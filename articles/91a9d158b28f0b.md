---
title: "カラム追加・削除"
emoji: "🐥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Rails]
published: false
---
# はじめに
カラム周辺のコマンドをすぐ忘てしまうので、まとめてみました



## カラム追加
```
$ rails g migration Addカラム名Toテーブル名 カラム名:型名
```
- 具体的な書き方

「books」テーブルに文字列型の「title」というカラムを追加したい場合は、以下のようになります。

```
$ rails g migration AddTitleToBooks title:string
$ rails db:migrate
```
「rails db:migrate」：　データベースの構造（テーブル、カラム）を変更するときに利用するコマンド

## カラム削除

```
$ rails g migration Removeカラム名Fromテーブル名 カラム名:型名
```
- 具体的な書き方


「books」テーブルに文字列型の「title」というカラムを削除したい場合は、以下のようになります。

```
$ rails g migration RemoveTitleFromBooks title:string
& rails db:migrate
```

##①カラム名の変更(修正)について
カラムを変更する際はデータベースを変更するので、簡単には変更できないようになっている。
ここの手順も間違えがちで、かつ間違えると厄介なところです。

### 1.　migrationファイルを作成
データベースに反映済みのマイグレーションファイル直接修正
```
$　rails g migration rename_変更したいカラム名_column_to_テーブル名
（例）　$ rails g migration rename_title_column_to_books
```
